{
    "type": "overpass",
    "name": {
        "ast": "Basures",
        "cs": "Nakládání s odpady",
        "de": "Entsorgung",
        "en": "Disposal",
        "fr": "Déchets/Recyclage",
        "hu": "Hulladék",
        "it": "Smaltimento",
        "ja": "処理場",
        "nl": "Afvalverwijdering",
        "pt": "Lixo",
        "pt-br": "Lixo",
        "ru": "Переработка отходов"
    },
    "query": {
        "13": [
            "(",
            "node[landuse=landfill];",
            "node[man_made~\"^(wastewater_plant|incinerator)$\"];",
            "node[amenity=recycling][recycling_type=centre];",
            "way[landuse=landfill];",
            "way[man_made~\"^(wastewater_plant|incinerator)$\"];",
            "way[amenity=recycling][recycling_type=centre];",
            "relation[landuse=landfill];",
            "relation[man_made~\"^(wastewater_plant|incinerator)$\"];",
            "relation[amenity=recycling][recycling_type=centre];",
            "nwr[amenity=waste_transfer_station];",
            "nwr[power=generator][\"generator:source\"~\"^(.*;|)waste(;.*|)$\"];",
            ")"
        ],
        "16": [
            "(",
            "node[landuse=landfill];",
            "node[man_made~\"^(wastewater_plant|incinerator)$\"];",
            "node[amenity~\"^(recycling|waste_disposal|waste_transfer_station)$\"];",
            "way[landuse=landfill];",
            "way[man_made~\"^(wastewater_plant|incinerator)$\"];",
            "way[amenity~\"^(recycling|waste_disposal|waste_transfer_station)$\"];",
            "relation[landuse=landfill];",
            "relation[man_made~\"^(wastewater_plant|incinerator)$\"];",
            "relation[amenity~\"^(recycling|waste_disposal|waste_transfer_station)$\"];",
            "nwr[power=generator][\"generator:source\"~\"^(.*;|)waste(;.*|)$\"];",
            ")"
        ],
        "18": [
            "(",
            "node[landuse=landfill];",
            "node[man_made~\"^(wastewater_plant|incinerator)$\"];",
            "node[amenity~\"^(recycling|waste_basket|waste_disposal|waste_transfer_station)$\"];",
            "way[landuse=landfill];",
            "way[man_made~\"^(wastewater_plant|incinerator)$\"];",
            "way[amenity~\"^(recycling|waste_basket|waste_disposal|waste_transfer_station)$\"];",
            "relation[landuse=landfill];",
            "relation[man_made~\"^(wastewater_plant|incinerator)$\"];",
            "relation[amenity~\"^(recycling|waste_basket|waste_disposal|waste_transfer_station)$\"];",
            "nwr[power=generator][\"generator:source\"~\"^(.*;|)waste(;.*|)$\"];",
            ")"
        ]
    },
    "feature": {
        "pre": [
            "{% set add = '' %}",
            "{% if tags.landuse == 'landfill' %}",
            "  {% set key = 'landuse' %}",
            "  {% set value = tags.landuse %}",
            "{% elseif tags.man_made in [ 'incinerator', 'wastewater_plant' ] %}",
            "  {% set key = 'man_made' %}",
            "  {% set value = tags.man_made %}",
            "{% elseif tags.amenity == 'recycling' %}",
            "  {% set key = 'amenity' %}",
            "  {% set value = tags.amenity %}",
            "  {% if tags.recycling_type %}{% set value = value ~ ' recycling_type=' ~ tags.recycling_type %}{% else %}{% set value = value ~ ' recycling_type=container' %}{% endif %}",
            "{% elseif tags.amenity in [ 'waste_basket', 'waste_disposal', 'waste_transfer_station' ] %}",
            "  {% set key = 'amenity' %}",
            "  {% set value = tags.amenity %}",
            "{% elseif tags.power == 'generator' %}",
            "  {% set key = 'power' %}",
            "  {% set value = tags.power %}",
            "  {% set add = '(' ~ tagTransList('generator:source', attribute(tags, 'generator:source')) ~ ')' %}",
            "{% endif %}",
            "{% set kv = key ~ '=' ~ value %}"
        ],
        "description": "{{ tagTrans(key, value) }} {{ add }}",
        "body": [
            "<ul>",
            "{% set recycling_options = tagsPrefix(tags, 'recycling:') %}",
            "{% if recycling_options %}",
            "<li class='hasSymbol'><img data-src='maki:recycling'> {{ keyTrans('recycling') }}: ",
            "{% set i = 0 %}",
            "{% for tag in recycling_options %}",
            "{% if attribute(tags, tag) == 'yes' %}{% if i > 0 %}, {% endif %}{{ keyTrans(tag)|slice(10) }}{% endif %}",
            "{% set i = i + 1 %}",
            "{% endfor %}",
            "{% endif %}",
            "</ul>"
        ],
        "markerSign": [
            "{% if const[kv] %}",
            "{{ const[kv].sign|raw }}",
            "{% endif %}"
        ],
        "obligatoryTags": [
            "{% if tags.amenity == 'recycling' and tags.recycling_type == 'centre' %}",
            "name",
            "operator",
            "{% endif %}",
            "{% if tags.amenity == 'recycling' and not tags.recycling_type %}",
            "recycling_type",
            "{% endif %}",
            "{% if tags.amenity == 'recycling' %}",
            "recycling:",
            "{% endif %}"
        ],
        "recommendedTags": [
            "opening_hours"
        ]
    },
    "info": [
        "<table>",
        "{% for kv, data in const %}",
        "  {% if map.zoom >= data.minZoom %}",
        "  {% set key  = kv|split('=')[0] %}",
        "  {% set value  = kv|split('=')[1] %}",
        "  <tr>",
        "    <td>{{ markerCircle({})|raw }}<div class='sign'>{{ data.sign|raw }}</div></td>",
        "    <td>{{ tagTrans(key, value) }}{% if data.add %} ({{ trans(data.add) }}){% endif %}</td>",
        "  </tr>",
        "  {% endif %}",
        "{% endfor %}",
        "</table>"
    ],
    "const": {
        "landuse=landfill": {
            "minZoom": 13,
            "sign": ""
        },
        "amenity=recycling recycling_type=centre": {
            "minZoom": 13,
            "sign": "<img data-src='maki:recycling'>"
        },
        "man_made=wastewater_plant": {
            "minZoom": 13,
            "sign": "<i class='fas fa-water'></i>"
        },
        "man_made=incinerator": {
            "minZoom": 13,
            "sign": "<i class='fas fa-burn'></i>"
        },
        "power=generator": {
            "minZoom": 13,
            "sign": "<i class='fas fa-bolt'></i>",
            "add": "tag:generator:source=waste"
        },
        "amenity=waste_transfer_station": {
            "minZoom": 13,
            "sign": "<i class='fas fa-exchange-alt'></i>"
        },
        "amenity=waste_disposal": {
            "minZoom": 16,
            "sign": "<img data-src='maki:waste-basket'>"
        },
        "amenity=recycling recycling_type=container": {
            "minZoom": 16,
            "sign": "<img data-src='maki:recycling'>"
        },
        "amenity=waste_basket": {
            "minZoom": 18,
            "sign": "<img data-src='maki:waste-basket'>"
        }
    }
}
